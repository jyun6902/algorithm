#include <iostream>
using namespace std;

int main()
{
	int maps[502][502];
	int N, M = 0; // N=세로, M=가로
	int max_result = 0;
	cin >> N >> M;
	for (int i = 1; i <= N; i++)
	{
		for (int j = 1; j <= M; j++)
			cin >> maps[i][j];
	}
	int ex[19][4][2] = {
		{{0,0}, {0,1},{ 0,2 },{ 0,3 }},
		//1 ----
		{{0, 0},{ 1,0 },{ 2,0 },{ 3,0 }},
		//2 |
		//	|
		//	|
		//	|
		{{0,0}, {0,1}, {1,0}, {1,1}},
		//3 --
		//	--
		{{0,0},{0,1},{1,1}, {1,2}},
		//4 --
		//	 --
		{{0,1},{0,2}, {1,0}, {1,1}},
		//5  --
		//	--
		{{0,0},{1,0}, {1,1}, {2,1}},
		//6 |
		//	| |
		//	  |
		{{0,1},{1,0},{1,1},{2,0}},
		//7	  |
		//	| |
		//	|
		{{0,1},{1,0},{1,1},{1,2}},
		//8	-
		// ---
		{{0,0}, {0,1}, {0,2}, {1,1}},
		//9 ---
		//   -
		{{0,0}, {1,0},{2,0},{1,1}},
		//10 |
		//	 ||
		//	 |
		{{0,1},{1,1},{2,1}, {1,0}},
		//11  |
		//	 ||
		//	  |
		{{0,0},{1,0},{2,0},{2,1}},
		//12 |
		//	 |
		//	 ||
		{{0,1}, {1,1}, {2,1}, {2,0}},
		//13  |
		//	  |
		//	 ||
		{{0,0}, {0,1}, {0,2}, {1,2}},
		//14 ---
		//	   |
		{{0,0},{ 0,1 },{ 0,2 }, {1,0}},
		//15 ---
		//	 |
		{{0,0},{1,0},{1,1},{1,2}},
		//16 |
		//	 ---
		{ { 0,2 },{ 1,0 },{ 1,1 },{ 1,2 } },
		//17	|
		//	  ---
		{{0,0},{1,0}, {2,1},{0,1}},
		//18 --
		//	 |
		//	 |
		{{0,0}, {0,1}, {1,1},{1,2}}
		//19 --
		//	  |
		//	  |
	};

	for (int i = 1; i <= N; i++)
	{
		for (int j =1 ; j<= M ; j++)
		{
			for (int k = 0; k < 19; k++)
			{
				int cnt = 0;
				for (int l = 0; l < 4; l++)
				{
					if (i + ex[k][l][0] >= 1 && i + ex[k][l][0] <= N && j + ex[k][l][1] >= 1 && j + ex[k][l][1] <= M)
						cnt++;
				}

				if (cnt == 4)
				{
					int result = 0;
					for (int l = 0; l < 4; l++)
					{
						result += (maps[i + ex[k][l][0]][j + ex[k][l][1]]);
						if (result > max_result)
							max_result = result;
					}
				}
			}
		}
	}

	cout << max_result<<endl;
	return 0;
}